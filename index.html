<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">  
  <link rel=stylesheet href="./css/style.css" type="text/css" media=screen>
  <title>Gravitation</title>
</head>

<body>
  <h1>Gravitation</h1>
  <h3>Anti-Gravity:</h3>
  <canvas id="game-canvas"></canvas>
  <script type="text/javascript" src="keymaster.js"></script>
  <script type="text/javascript" src="bundle.js"></script>

  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded",
      function(){

        var canvas = document.getElementById("game-canvas");
        canvas.height = window.innerHeight;
        canvas.width = window.innerWidth;
        var context = canvas.getContext("2d");

        if (!context) {
          return;
        }

        var newGame = new Game();
        var gameView = new GameView(newGame, context);

        gameView.start();


        // Clear Button
        var clearButton = document.createElement("Button");
        clearButton.className = 'clear';
        var clearText = document.createTextNode("Clear");     
        clearButton.appendChild(clearText); 
        document.body.appendChild(clearButton);
        clearButton.addEventListener('click', function(e){
          newGame.clearMasses();
        }); 

        // Reset Button
        var resetButton = document.createElement("Button");
        resetButton.className = 'reset';
        var resetText = document.createTextNode("Reset");     
        resetButton.appendChild(resetText); 
        document.body.appendChild(resetButton);
        resetButton.addEventListener('click', function(e){
          newGame.resetMasses();
        });

        // AntiGravity
        var antiGButton = document.createElement("Button");
        antiGButton.id = 'anti-gravity';
        var antiGText = document.createTextNode("OFF");     
        antiGButton.appendChild(antiGText); 
        document.body.appendChild(antiGButton);
        antiGButton.addEventListener('click', function(e){
          if (e.currentTarget.textContent == "OFF"){
            newGame.antiGravity = true;
            this.textContent = "ON";
          } else {
            newGame.antiGravity = false;
            this.textContent = "OFF";
          }
        });
      });
  </script>

</body>

</html>